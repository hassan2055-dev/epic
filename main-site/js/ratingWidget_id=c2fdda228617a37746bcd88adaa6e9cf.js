/*! For license information please see ratingWidget.js.LICENSE.txt */
(()=>{function t(){var n,r,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.toStringTag||"@@toStringTag";function c(t,o,i,a){var c=o&&o.prototype instanceof l?o:l,s=Object.create(c.prototype);return e(s,"_invoke",function(t,e,o){var i,a,c,l=0,s=o||[],d=!1,f={p:0,n:0,v:n,a:v,f:v.bind(n,4),d:function(t,e){return i=t,a=0,c=n,f.n=e,u}};function v(t,e){for(a=t,c=e,r=0;!d&&l&&!o&&r<s.length;r++){var o,i=s[r],v=f.p,p=i[2];t>3?(o=p===e)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=n):i[0]<=v&&((o=t<2&&v<i[1])?(a=0,f.v=e,f.n=i[1]):v<p&&(o=t<3||i[0]>e||e>p)&&(i[4]=t,i[5]=e,f.n=p,a=0))}if(o||t>1)return u;throw d=!0,e}return function(o,s,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===s&&v(s,p),a=s,c=p;(r=a<2?n:c)||!d;){i||(a?a<3?(a>1&&(f.n=-1),v(a,c)):f.n=c:f.v=c);try{if(l=2,i){if(a||(o="next"),r=i[o]){if(!(r=r.call(i,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,a<2&&(a=0)}else 1===a&&(r=i.return)&&r.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=n}else if((r=(d=f.n<0)?c:t.call(e,f))!==u)break}catch(t){i=n,a=1,c=t}finally{l=1}}return{value:r,done:d}}}(t,i,a),!0),s}var u={};function l(){}function s(){}function d(){}r=Object.getPrototypeOf;var f=[][i]?r(r([][i]())):(e(r={},i,function(){return this}),r),v=d.prototype=l.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,e(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t}return s.prototype=d,e(v,"constructor",d),e(d,"constructor",s),s.displayName="GeneratorFunction",e(d,a,"GeneratorFunction"),e(v),e(v,a,"Generator"),e(v,i,function(){return this}),e(v,"toString",function(){return"[object Generator]"}),(t=function(){return{w:c,m:p}})()}function e(t,n,r,o){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}e=function(t,n,r,o){function a(n,r){e(t,n,function(t){return this._invoke(n,r,t)})}n?i?i(t,n,{value:r,enumerable:!o,configurable:!o,writable:!o}):t[n]=r:(a("next",0),a("throw",1),a("return",2))},e(t,n,r,o)}function n(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}document.addEventListener("DOMContentLoaded",function(){var e,r,o,i,a,c,u=document.querySelector(".rating-widget__stars"),l=document.querySelector(".rating-widget__rating"),s=document.querySelectorAll(".rating-widget__star"),d=document.querySelector(".rating-widget__note"),f=document.querySelector(".rating-widget__text"),v=!1,p=window.location.pathname;switch(!0){case"/"===p:c="home";break;case p.includes("vin-decoder"):c="decoder";break;case p.includes("license-plate"):c="plate"}var y="userRating_".concat(c),g={1:null!==(e=window.ratingStatusTerrible)&&void 0!==e?e:"Terrible!",2:null!==(r=window.ratingStatusBelowAverage)&&void 0!==r?r:"Below Average!",3:null!==(o=window.ratingStatusFine)&&void 0!==o?o:"Fine!",4:null!==(i=window.ratingStatusVeryGood)&&void 0!==i?i:"Very Good!",5:null!==(a=window.ratingStatusExcellent)&&void 0!==a?a:"Excellent!"},h=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var o="expires="+r.toUTCString();document.cookie="".concat(t,"=").concat(e,";").concat(o,";path=/")};function w(t){d.textContent=g[t]}function b(){l.style.display="block",u.style.display="none"}function m(){var e;return e=t().m(function e(n){var r;return t().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!v){t.n=1;break}return t.a(2);case 1:return v=!0,w(n),f.textContent="Your feedback has been received",h(y,n),s.forEach(function(t){return t.disabled=!0}),b(),t.p=2,t.n=3,fetch("/service-rating",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rating:n})});case 3:t.n=5;break;case 4:t.p=4,r=t.v,console.error("Rating submission failed:",r);case 5:return t.a(2)}},e,null,[[2,4]])}),m=function(){var t=this,r=arguments;return new Promise(function(o,i){var a=e.apply(t,r);function c(t){n(a,o,i,c,u,"next",t)}function u(t){n(a,o,i,c,u,"throw",t)}c(void 0)})},m.apply(this,arguments)}var S=function(t){for(var e="".concat(t,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){var o=n[r].trim();if(0===o.indexOf(e))return o.substring(e.length,o.length)}return null}(y);if(S){v=!0,w(S),f.textContent="Your feedback has been received";var _=document.querySelector('.rating-widget__star[value="'.concat(S,'"]'));_&&(_.checked=!0),s.forEach(function(t){return t.disabled=!0}),b()}S||l.classList.add("full");var k="ontouchstart"in window||navigator.maxTouchPoints>0;s.forEach(function(t){t.addEventListener("click",function(){k&&l.classList.remove("full"),v||function(t){m.apply(this,arguments)}(this.value)}),t.addEventListener("mouseenter",function(){v||w(this.value)},{passive:!0})}),k?(l.style.display="block",u.style.display="none"):(u.addEventListener("mouseenter",function(){v||b()},{passive:!0}),l.addEventListener("mouseleave",function(){var t;v||(l.style.display="none",u.style.display="block",d.textContent=null!==(t=window.chooseStarTxt)&&void 0!==t?t:"Choose a star to rate")},{passive:!0}))})})();